object W028FChiamateReperibiliDM: TW028FChiamateReperibiliDM
  OldCreateOrder = False
  OnCreate = DataModuleCreate
  Height = 127
  Width = 398
  object selT380: TOracleDataSet
    SQL.Strings = (
      'SELECT DISTINCT '
      '       T030.PROGRESSIVO, '
      '       T030.MATRICOLA, '
      '       T030.COGNOME, '
      '       T030.NOME, '
      
        '       T430INDIRIZZO, T430CAP, T430D_COMUNE, T430D_PROVINCIA, T4' +
        '30TELEFONO,'
      '       :DATI'
      '       T380.DATA DATA_TURNO, '
      '       T380.TURNO1, T380.PRIORITA1,'
      '       T380.TURNO2, T380.PRIORITA2,'
      '       T380.TURNO3, T380.PRIORITA3,'
      
        '       DECODE(T350.CODICE,T380.TURNO1,T380.DATOAGG1_T1,T380.TURN' +
        'O2,T380.DATOAGG1_T2,T380.TURNO3,T380.DATOAGG1_T3) DATOAGG1,'
      
        '       DECODE(T350.CODICE,T380.TURNO1,T380.DATOAGG2_T1,T380.TURN' +
        'O2,T380.DATOAGG2_T2,T380.TURNO3,T380.DATOAGG2_T3) DATOAGG2,     ' +
        '   '
      
        '       DECODE(T350.CODICE,T380.TURNO1,T380.AREASQUADRA_T1,T380.T' +
        'URNO2,T380.AREASQUADRA_T2,T380.TURNO3,T380.AREASQUADRA_T3) AREAS' +
        'QUADRA,        '
      
        '       T350.CODICE TURNO, T350.DESCRIZIONE, T350.ORAINIZIO, T350' +
        '.SIGLA SIGLA, '
      
        '       TO_CHAR(T350.ORAINIZIO,'#39'HH24.MI'#39') DALLE, TO_CHAR(T350.ORA' +
        'FINE,'#39'HH24.MI'#39') ALLE,'
      '       T350.TOLL_CHIAMATA_INIZIO, T350.TOLL_CHIAMATA_FINE,'
      
        '       DECODE(T350.CODICE,T380.TURNO1,T380.RECAPITO1,DECODE(T350' +
        '.CODICE,T380.TURNO2,T380.RECAPITO2,T380.RECAPITO3)) RECAPITO_EXT' +
        'RA :DATO_LIB_1_TEL_AZ'
      'FROM   T380_PIANIFREPERIB T380, '
      '       T350_REGREPERIB T350, '
      '       :TAB_DATO_LIB_1'
      ':QVISTAORACLE'
      'AND    T380.PROGRESSIVO = T030.PROGRESSIVO'
      'AND    T380.TIPOLOGIA = '#39'R'#39
      
        'AND    (T380.TURNO1 = T350.CODICE OR T380.TURNO2 = T350.CODICE O' +
        'R T380.TURNO3 = T350.CODICE) '
      'AND    T380.DATA BETWEEN :DATA - 1 AND :DATA + 1'
      'AND    ((T380.DATA =:DATA AND  --giorno corrente'
      
        '         :ORA + OREMINUTI(T350.TOLL_CHIAMATA_INIZIO) >= OREMINUT' +
        'I(TO_CHAR(T350.ORAINIZIO,'#39'hh24.mi'#39')) AND '
      
        '         :ORA + OREMINUTI(T350.TOLL_CHIAMATA_FINE) <= DECODE(SIG' +
        'N(T350.ORAFINE - T350.ORAINIZIO), '
      '                                        1,'
      
        '                                        OREMINUTI(DECODE(TO_CHAR' +
        '(T350.ORAFINE,'#39'hh24.mi'#39'),'#39'00.00'#39','#39'23.59'#39',TO_CHAR(T350.ORAFINE,'#39'h' +
        'h24.mi'#39'))),'
      '                                        OREMINUTI('#39'23.59'#39')))'
      '        OR '
      '        (T380.DATA = :DATA - 1 AND --giorno precedente'
      
        '         /*se l'#39'ora di fine '#232' uguale a 00.00(mezza notte) trasfo' +
        'rmo l'#39'ora in 23.59, altrimenti il test T350.ORAFINE <= T350.ORAI' +
        'NIZIO verrebbe falsato*/'
      
        '         oreminuti(decode(to_char(T350.ORAFINE,'#39'hh24.mi'#39'),'#39'00.00' +
        #39','#39'23.59'#39',to_char(T350.ORAFINE,'#39'hh24.mi'#39'))) <= oreminuti(to_char' +
        '(T350.ORAINIZIO,'#39'hh24.mi'#39')) AND'
      '         :ORA BETWEEN 0 /*OREMINUTI('#39'00.00'#39')*/ AND '
      
        '         OREMINUTI(DECODE(TO_CHAR(T350.ORAFINE,'#39'hh24.mi'#39'),'#39'00.00' +
        #39','#39'23.59'#39',TO_CHAR(T350.ORAFINE,'#39'hh24.mi'#39'))) - OREMINUTI(T350.TOL' +
        'L_CHIAMATA_FINE))'
      '        OR '
      '        (T380.DATA = :DATA + 1 AND --giorno successivo'
      
        '         :ORA + OREMINUTI(T350.TOLL_CHIAMATA_INIZIO) - 1440 >= O' +
        'REMINUTI(TO_CHAR(T350.ORAINIZIO,'#39'hh24.mi'#39')) AND '
      
        '         :ORA + OREMINUTI(T350.TOLL_CHIAMATA_FINE) - 1440 <= DEC' +
        'ODE(SIGN(T350.ORAFINE - T350.ORAINIZIO), '
      '                                        1,'
      
        '                                        OREMINUTI(DECODE(TO_CHAR' +
        '(T350.ORAFINE,'#39'hh24.mi'#39'),'#39'00.00'#39','#39'23.59'#39',TO_CHAR(T350.ORAFINE,'#39'h' +
        'h24.mi'#39'))),'
      '                                        OREMINUTI('#39'23.59'#39')))'
      '       )'
      ':FILTRODIP'
      ':COND_DATO_LIB1_TEL_AZ '
      
        'ORDER BY T380.DATA, T350.ORAINIZIO, DECODE(T350.CODICE,T380.TURN' +
        'O1,T380.PRIORITA1,T380.TURNO2,T380.PRIORITA2,T380.TURNO3,T380.PR' +
        'IORITA3), T030.COGNOME, T030.NOME, T030.MATRICOLA')
    ReadBuffer = 31
    Optimize = False
    Variables.Data = {
      0400000008000000080000003A004F0052004100030000000000000000000000
      1A0000003A005100560049005300540041004F005200410043004C0045000100
      000000000000000000000A0000003A0044004100540049000100000000000000
      000000000A0000003A0044004100540041000C00000000000000000000002400
      00003A004400410054004F005F004C00490042005F0031005F00540045004C00
      5F0041005A000100000000000000000000001E0000003A005400410042005F00
      4400410054004F005F004C00490042005F003100010000000000000000000000
      2C0000003A0043004F004E0044005F004400410054004F005F004C0049004200
      31005F00540045004C005F0041005A0001000000000000000000000014000000
      3A00460049004C00540052004F00440049005000010000000000000000000000}
    Left = 102
    Top = 16
  end
  object selT390: TOracleDataSet
    SQL.Strings = (
      'select T390.ROWID, T390.*, '
      
        '       DECODE(NVL(T390.ESITO,'#39'N'#39'),'#39'S'#39','#39'Trovato'#39','#39'N'#39','#39'Non trovato' +
        #39','#39'Annullato'#39') D_ESITO,'
      
        '       DECODE(NVL(I060.NOME_UTENTE,'#39'X'#39'),'#39'X'#39',T390.UTENTE,T030OPER' +
        '.COGNOME || '#39' '#39' || T030OPER.NOME || '#39' ('#39' || T030OPER.MATRICOLA |' +
        '| '#39')'#39') OPERATORE,'
      
        '       T030.COGNOME || '#39' '#39' || T030.NOME /*|| '#39' ('#39' || T030.MATRIC' +
        'OLA || '#39')'#39'*/ DIPENDENTE, T030.MATRICOLA'
      
        'from   T390_CHIAMATE_REPERIB T390, MONDOEDP.I060_LOGIN_DIPENDENT' +
        'E I060, T030_ANAGRAFICO T030OPER, T030_ANAGRAFICO T030, V430_STO' +
        'RICO V430'
      'where  TRUNC(T390.DATA) BETWEEN :DATAINIZIO AND :DATAFINE'
      '  and  T390.UTENTE = I060.NOME_UTENTE (+)'
      '  and  I060.AZIENDA (+) = :AZIENDA '
      '  and  I060.MATRICOLA = T030OPER.MATRICOLA (+)'
      '  and  T390.PROGRESSIVO_REPER = T030.PROGRESSIVO'
      '  and  T030.PROGRESSIVO = T430PROGRESSIVO'
      
        '  and  TRUNC(T390.DATA) BETWEEN T430DATADECORRENZA AND T430DATAF' +
        'INE'
      '  :FILTRORICERCA'
      '  :FILTRO'
      'order by DATA DESC'
      '')
    ReadBuffer = 31
    Optimize = False
    Variables.Data = {
      0400000005000000160000003A00440041005400410049004E0049005A004900
      4F000C0000000000000000000000120000003A00440041005400410046004900
      4E0045000C0000000000000000000000100000003A0041005A00490045004E00
      440041000500000000000000000000000E0000003A00460049004C0054005200
      4F000100000000000000000000001C0000003A00460049004C00540052004F00
      5200490043004500520043004100010000000000000000000000}
    AfterOpen = selT390AfterOpen
    BeforePost = selT390BeforePost
    AfterPost = selT390AfterPost
    Left = 27
    Top = 16
    object selT390DATA: TDateTimeField
      FieldName = 'DATA'
    end
    object selT390UTENTE: TStringField
      FieldName = 'UTENTE'
      Size = 30
    end
    object selT390PROGRESSIVO_REPER: TFloatField
      FieldName = 'PROGRESSIVO_REPER'
    end
    object selT390ESITO: TStringField
      FieldName = 'ESITO'
      Size = 1
    end
    object selT390NOTE: TStringField
      FieldName = 'NOTE'
      Size = 2000
    end
    object selT390DATA_TURNO: TDateTimeField
      FieldName = 'DATA_TURNO'
    end
    object selT390TURNO: TStringField
      FieldName = 'TURNO'
      Size = 5
    end
    object selT390SIGLA: TStringField
      FieldName = 'SIGLA'
      Size = 5
    end
    object selT390OPERATORE: TStringField
      FieldName = 'OPERATORE'
      Size = 80
    end
    object selT390DIPENDENTE: TStringField
      FieldName = 'DIPENDENTE'
      Size = 80
    end
    object selT390MATRICOLA: TStringField
      FieldName = 'MATRICOLA'
      Size = 8
    end
    object selT390D_ESITO: TStringField
      FieldName = 'D_ESITO'
      Size = 50
    end
    object selT390D_SCHEDAANAG: TStringField
      FieldKind = fkCalculated
      FieldName = 'D_SCHEDAANAG'
      Size = 1
      Calculated = True
    end
    object selT390D_INFO: TStringField
      FieldKind = fkCalculated
      FieldName = 'D_INFO'
      Size = 200
      Calculated = True
    end
  end
  object selT390InfoChiamate: TOracleDataSet
    SQL.Strings = (
      
        'SELECT T030.PROGRESSIVO, T030.MATRICOLA, T030.COGNOME, T030.NOME' +
        ', '
      
        '       T430INDIRIZZO, T430CAP, T430D_COMUNE, T430D_PROVINCIA, T4' +
        '30TELEFONO,'
      '       :DATI'
      '       T390.DATA DATA_CHIAMATA,'
      '       T380.DATA DATA_TURNO,'
      
        '       T350.CODICE TURNO, T350.DESCRIZIONE, T350.ORAINIZIO, T350' +
        '.SIGLA SIGLA, '
      
        '       DECODE(T350.CODICE,T380.TURNO1,T380.PRIORITA1,DECODE(T350' +
        '.CODICE,T380.TURNO2,T380.PRIORITA2,T380.PRIORITA3)) PRIORITA,'
      
        '       DECODE(T350.CODICE,T380.TURNO1,T380.RECAPITO1,DECODE(T350' +
        '.CODICE,T380.TURNO2,T380.RECAPITO2,T380.RECAPITO3)) RECAPITO_EXT' +
        'RA :DATO_LIB_1_TEL_AZ'
      
        'FROM   T380_PIANIFREPERIB T380, T350_REGREPERIB T350, T390_CHIAM' +
        'ATE_REPERIB T390, :TAB_DATO_LIB_1'
      ':QVISTAORACLE'
      'AND    T380.PROGRESSIVO = T030.PROGRESSIVO'
      'AND    T380.TIPOLOGIA = '#39'R'#39
      'AND    T350.CODICE = T390.TURNO'
      'AND    T390.PROGRESSIVO_REPER = T380.PROGRESSIVO'
      
        'AND    T390.DATA_TURNO BETWEEN :DATA_PERIODO_DAL AND :DATA_PERIO' +
        'DO_AL'
      'AND    T390.DATA_TURNO = T380.DATA'
      ':FILTRODIP'
      
        ':COND_DATO_LIB1_TEL_AZ ORDER BY T390.DATA, T390.PROGRESSIVO_REPE' +
        'R')
    Optimize = False
    Variables.Data = {
      04000000080000000A0000003A00440041005400490001000000000000000000
      00001A0000003A005100560049005300540041004F005200410043004C004500
      010000000000000000000000220000003A0044004100540041005F0050004500
      520049004F0044004F005F00440041004C000C00000000000000000000002000
      00003A0044004100540041005F0050004500520049004F0044004F005F004100
      4C000C0000000000000000000000240000003A004400410054004F005F004C00
      490042005F0031005F00540045004C005F0041005A0001000000000000000000
      00001E0000003A005400410042005F004400410054004F005F004C0049004200
      5F0031000100000000000000000000002C0000003A0043004F004E0044005F00
      4400410054004F005F004C004900420031005F00540045004C005F0041005A00
      010000000000000000000000140000003A00460049004C00540052004F004400
      49005000010000000000000000000000}
    Left = 102
    Top = 72
  end
  object selDatoAgg1Lookup: TOracleDataSet
    ReadBuffer = 500
    Optimize = False
    ReadOnly = True
    Left = 209
    Top = 16
  end
  object selDatoAgg2Lookup: TOracleDataSet
    ReadBuffer = 500
    Optimize = False
    ReadOnly = True
    Left = 209
    Top = 72
  end
  object selT651: TOracleDataSet
    SQL.Strings = (
      'select * FROM T651_AREE_SQUADRA T651, T650_AREE_TURNI T650'
      'where T651.CODICE_AREA = T650.CODICE'
      'order by T651.CODICE_SQUADRA, T651.CODICE_OPERATORE')
    Optimize = False
    QBEDefinition.QBEFieldDefs = {
      05000000130000000E0000005300510055004100440052004100010000000000
      0C00000043004F004400490043004500010000000000080000004D0049004E00
      3100010000000000080000004D00410058003100010000000000080000004D00
      49004E003200010000000000080000004D004100580032000100000000000800
      00004D0049004E003300010000000000080000004D0041005800330001000000
      0000080000004D0049004E003400010000000000080000004D00410058003400
      0100000000000C0000005400550052004E0041005A000100000000000C000000
      4F0052004100520049004F00010000000000160000004F005400540049004D00
      41004C004500310046005200010000000000160000004F005400540049004D00
      41004C004500310046005300010000000000160000004F005400540049004D00
      41004C004500320046005200010000000000160000004F005400540049004D00
      41004C004500320046005300010000000000160000004F005400540049004D00
      41004C004500330046005200010000000000160000004F005400540049004D00
      41004C0045003300460053000100000000000E000000500052004F0046004900
      4C004F00010000000000}
    ReadOnly = True
    Left = 299
    Top = 16
  end
  object selT650Lookup: TOracleDataSet
    SQL.Strings = (
      'select DISTINCT '
      ' T650.CODICE,'
      ' T650.DESCRIZIONE'
      ' FROM T651_AREE_SQUADRA T651, T650_AREE_TURNI T650'
      'where T651.CODICE_AREA = T650.CODICE'
      'order by T650.CODICE')
    Optimize = False
    QBEDefinition.QBEFieldDefs = {
      05000000130000000E0000005300510055004100440052004100010000000000
      0C00000043004F004400490043004500010000000000080000004D0049004E00
      3100010000000000080000004D00410058003100010000000000080000004D00
      49004E003200010000000000080000004D004100580032000100000000000800
      00004D0049004E003300010000000000080000004D0041005800330001000000
      0000080000004D0049004E003400010000000000080000004D00410058003400
      0100000000000C0000005400550052004E0041005A000100000000000C000000
      4F0052004100520049004F00010000000000160000004F005400540049004D00
      41004C004500310046005200010000000000160000004F005400540049004D00
      41004C004500310046005300010000000000160000004F005400540049004D00
      41004C004500320046005200010000000000160000004F005400540049004D00
      41004C004500320046005300010000000000160000004F005400540049004D00
      41004C004500330046005200010000000000160000004F005400540049004D00
      41004C0045003300460053000100000000000E000000500052004F0046004900
      4C004F00010000000000}
    ReadOnly = True
    Left = 299
    Top = 72
  end
end
